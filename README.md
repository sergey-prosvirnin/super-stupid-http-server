
# Супер Простой HTTP Сервер (Super Stupid HTTP Server)
Простой многопоточный HTTP сервер, реализованный на C++, который решает проблему 10 000 соединений (10K). Вдохновлен работой Игоря Сысоева, создателя Nginx.

## Проблема: 10 000 Клиентов

Проблема "10K" заключается в обработке 10 000 одновременных клиентских соединений. Традиционные HTTP серверы с этим не справлялись из-за ограничений архитектур на основе потоков и блокирующих операций ввода/вывода, что приводило к значительным накладным расходам и потреблению ресурсов.

## Решение: EPOLL и Событийная Архитектура

Решение Игоря Сысоева, реализованное в Nginx, включает использование событийного подхода в сочетании с эффективными механизмами мультиплексирования ввода/вывода, такими как `epoll` на Linux. Это позволяет серверу обрабатывать большое количество соединений без создания отдельного потока для каждого соединения. Вместо этого один (или несколько) потоков могут отслеживать множество соединений, пробуждаясь только тогда, когда есть данные для чтения или записи.

## Быстрый старт

### Требования

- Linux
- CMake >= 3.10
- Компилятор GCC или Clang

### Сборка проекта

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/sergey-prosvirnin/super-stupid-http-server.git
    cd sshs
    ```

2. Создайте директорию для сборки и выполните компиляцию:
    ```sh
    mkdir build
    cd build
    cmake ..
    make
    ```

3. Создайте deb пакет:
    ```sh
    cpack
    ```

### Установка сервера

Для установки сервера выполните:

```sh
sudo dpkg -i super-stupid-http-server-1.0-Linux.deb
```

### Запуск сервера

После установки запустите сервер используя:

`super-stupid-http-server`

Вы должны увидеть:

`Starting server on port 8080`

Чтобы проверить работу сервера, откройте ваш веб-браузер и перейдите по адресу:

`http://localhost:8080/`

Вы должны увидеть ответ "Hello, World!".

Или используйте утилиту curl:

```sh
curl -v http://localhost:8080/; echo
````

Но самый предпочтительный вариант для проверки проблемы 10К, использовать уже подговоленный тест JMeter:

```sh
jmeter -n -t SuperStupidHttpServer10KTest.jmx -l 10K-Summary-Report.jtl
````

Или же откройте в `JMeter GUI` файл и нажмите `Run`.

### Удаление сервера

Для удаления сервера выполните:
```sh
sudo dpkg -r super-stupid-http-server
````
### man страницы

После установки вы можете прочитать руководство, используя:
```sh
man super-stupid-http-server
```